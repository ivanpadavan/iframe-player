"use strict";(self.webpackChunkiframe_player=self.webpackChunkiframe_player||[]).push([[877],{7877:(G,T,d)=>{d.r(T),d.d(T,{ShakaPlayer:()=>W});var c=d(467),b=d(2771),A=d(4843),L=d(7468),y=d(3726),f=d(5964),p=d(5558),k=d(7673),w=d(5454),C=d(8141),D=d(1594),g=d(6354),R=d(605),I=d(2816),m=d(983),M=d(3294),P=d(6977),x=d(1501),S=d(5755),o=d(8970),v=d(1880),N=d(5985);class B extends S.O{constructor(n,e,a){super(n),this.player=e,this.playerData=a,this.type="streaming"}get isAutoQuality(){return this.player.getConfiguration()?.abr?.enabled}get currentTime(){return this.videoElement.currentTime}get duration(){return this.videoElement.duration}getTextTracks(){const n=this.player.getTextTracks().map(e=>({...e,id:e.id.toString(),kind:e.kind}));if(o.dD.isApple()||this.videoElement.querySelector('track[kind="subtitles"]')){const e=Array.from(this.videoElement.textTracks),a=this.videoElement.classList.contains("hide-subtitles"),t=new Map;return a||e.forEach(r=>{t.set(r.__shaka_id,"showing"===r.mode)}),n.map(r=>({...r,active:t.get(+r.id)||!1}))}return n}getVideoTracks(){return this.getUniqueTracks("videoId").map(n=>({active:n.active,id:n.id,width:n.width,height:n.height,videoBandwidth:n.videoBandwidth}))}getAudioTracks(){return this.getUniqueTracks("audioId").map(n=>({active:n.active,id:n.id,label:n.label,language:n.language,audioBandwidth:n.audioBandwidth}))}get isLiveStream(){return this.player.isLive()}get liveStreamCurrentTime(){return this.player.getPlayheadTimeAsDate()}get availabilityStartTime(){return this.player.getPresentationStartTimeAsDate()}get seekRange(){return this.player.seekRange()}get currentManifest(){return this.playerData.currentManifest}get hasTimeShiftManifest(){return this.playerData.hasTimeShiftManifest}get manifestType(){return this.playerData.manifestType}getUniqueTracks(n){const e=this.player.getVariantTracks();if(!e.length)return[];const a=e.find(s=>s.active),t="videoId"===n?"audioId":"videoId",r=(a||e[0])[t];return e.filter(s=>s[t]===r)}}class U extends o.Mk{constructor(){super(o.Yq.DRMError,"Error decoding server response for FairPlay")}}class F{constructor(n){this.play=n,this.enabled=!1,this.loadMode="blob",this.firstPlaying=!0,this.autoplayPrevented=!1}setLoadMode(n){this.loadMode=n}onEvents(n){if(this.enabled){if("loading"===n.type)return void(this.firstPlaying=!0);if(this.firstPlaying)switch(n.type){case"autoplay-prevented":this.autoplayPrevented=!0;break;case"playing":this.firstPlaying=this.autoplayPrevented,this.autoplayPrevented=!1;break;case"canplay":o.dD.isFirefox()&&"src"===this.loadMode&&this.play();break;case"loadedmetadata":o.dD.isApple()&&"src"===this.loadMode&&this.play();break;case"canplaythrough":this.play()}}}}const l=d(8495);class O{constructor(){this.srtLines=[]}parse(n,e=0){const a=(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m);if(!a||!a.length)throw new l.util.Error(l.util.Error.Severity.RECOVERABLE,l.util.Error.Category.TEXT,l.util.Error.Code.INVALID_TEXT_HEADER);const t=[];for(const r of a){const s=r.split("\n"),i=this.parseCue(s,e);i&&t.push(i)}return this.srtLines=t,this.srtLines}parseCue(n,e){if(1===n.length&&!l.text[0])return null;n[0].includes("--\x3e")||n.splice(0,1);const a=n[0].split("--\x3e"),t=a[0].replace(/\s+/g,"").replace(",",":").split(":"),r=a[1].replace(/\s+/g,"").replace(",",":").split(":");let s,i;try{s=this.parseTime(t[0],t[1],t[2],t[3]),i=this.parseTime(r[0],r[1],r[2],r[3])}catch{return null}e&&(s+=e,i+=e);const u=n.slice(1).join("\n").trim();return new l.text.Cue(s,i,u)}parseTime(n,e,a,t){return(t&&0!=+t?t/1e3:0)+(+a||0)+60*(+e||0)+3600*(+n||0)}}class ${constructor(){this.srtParser=new O}parseInit(){}parseMedia(n,e){const a=l.util.StringUtils.fromUTF8(n);return this.srtParser.parse(a,e.segmentStart)}}var z=l.util.FakeEvent;let W=(()=>{class h extends S.N{static{this.polyfillInstalled=!1}constructor(){super(v.I9),this.type="streaming",this.playerType="shaka",this.playerData={},this.GlobalDebuggerObjectName="gl-pl-debugger",this.restartCount=0,this.shakaErrorListener=this.handleShakaPlayerErrorEvent.bind(this),this.waitingStartSeek=!1,this.autoplay=new F(()=>this.play().catch()),this.reloadOnNetworkError=!1,this.destroy$=new b.m(1),this.responseFilter=(e,a)=>{if(e===l.net.NetworkingEngine.RequestType.MANIFEST)try{const t=new TextDecoder("utf-8").decode(a.data);if(0===t.indexOf("<?xml")){const r=(new DOMParser).parseFromString(t,"application/xml");this.processSCTE35(r);const s=r.querySelectorAll("AdaptationSet");this.PAR=Array.from(s).find(i=>i.getAttribute("par"))?.getAttribute("par").split(":").map(i=>+i).reduce((i,u)=>i/u),s.forEach(i=>{if(i.getAttribute("label")?.includes("5.1")){i.setAttribute("lang",i.getAttribute("lang")+"5.1");const u=i.querySelector("AudioChannelConfiguration");"urn:mpeg:dash:23003:3:audio_channel_configuration:2011"===u?.getAttribute("schemeIdUri")&&u.setAttribute("value","6")}}),a.data=(new TextEncoder).encode((new XMLSerializer).serializeToString(r)).buffer}}catch(t){console.error(t)}else if(e===l.net.NetworkingEngine.RequestType.SEGMENT&&a.uri.includes(".m4i")&&a.uri.includes("video")&&this.PAR){const t=new Uint8Array(a.data),r=o.tr.findBox(t,["moov","trak","tkhd"])[0],s=(()=>{if(!r)return;const i=o.tr.tkhd(r).width;return-1!==i?i/65536:void 0})();s&&o.tr.tkhd(r,void 0,s/this.PAR)}}}init(e,a){var t=()=>super.init,r=this;return(0,c.A)(function*(){if(yield h.checkPolyfillInstalled(),!l.Player.isBrowserSupported())throw new o.Mk(o.Yq.BrowserNotSupportedError,"Browser not supported!");const s=o.dD.safariVersion();if(s&&s<=12)throw new o.Mk(o.Yq.BrowserNotSupportedError,"Browser not supported!");r.shakaPlayer=new l.Player(e),r.shakaPlayer.getNetworkingEngine().registerResponseFilter(r.responseFilter),h.support.drm["com.apple.fps.1_0"]&&((0,o.Wz)("Fairplay detected!"),yield r.fairPlayInitDataTransform(),r.fairPlayLicenseRequest(),r.fairPlayLicenseResponse(),r.processHlsMetadata(e),r.goToLiveFromTimeshiftOnHighPlaybackSpeed()),yield t().call(r,e,a)})()}initState(){this.state=new B(this.video,this.shakaPlayer,this.playerData)}fairPlayInitDataTransform(){var e=this;return(0,c.A)(function*(){e.shakaPlayer.configure("drm.initDataTransform",(a,t)=>{const r=e.shakaPlayer.drmInfo();if("skd"!=t||"com.apple.fps.1_0"!==r.keySystem)return a;const s=r.serverCertificate,i=l.util.FairPlayUtils.defaultGetContentId(a);return l.util.FairPlayUtils.initDataTransform(a,i,s)})})()}fairPlayLicenseRequest(){this.shakaPlayer.getNetworkingEngine().registerRequestFilter((e,a)=>{if(e!=l.net.NetworkingEngine.RequestType.LICENSE||"com.apple.fps.1_0"!==this.shakaPlayer.drmInfo().keySystem)return;a.allowCrossSiteCredentials=!0,a.headers["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8";const t=l.util.Uint8ArrayUtils.toStandardBase64(a.body),s="spc="+encodeURIComponent(t);a.body=l.util.StringUtils.toUTF8(s)})}fairPlayLicenseResponse(){this.shakaPlayer.getNetworkingEngine().registerResponseFilter((e,a)=>{if(e!=l.net.NetworkingEngine.RequestType.LICENSE||"com.apple.fps.1_0"!==this.shakaPlayer.drmInfo().keySystem)return;const t=l.util.StringUtils.fromUTF8(a.data),r=JSON.parse(t);if(!r.ckc)throw new U;a.data=l.util.Uint8ArrayUtils.fromBase64(r.ckc).buffer})}processCues(e){const a=t=>"value"in t&&"object"==typeof t.value&&null!=t.value&&"key"in t.value;if(2===e.length){const t=e[0],r=e[1];a(t)&&a(r)&&"PLANNED-DURATION"===t.value.key&&"number"==typeof t.value.data&&"SCTE35-OUT"===r.value.key&&this.handlePlayerVideoEvent({type:"scte35",presentationTime:r.startTime,duration:t.value.data})}}configure(e){var a=()=>super.configure,t=this;return(0,c.A)(function*(){t.autoplay.enabled=e.autoplay,yield a().call(t,{...e,autoplay:!1}),t.firstConfigured||(t.shakaPlayer.configure({preferredAudioLanguage:"ru",preferredTextLanguage:"ru"}),t.firstConfigured=!0),t.shakaPlayer.configure(e.configData)})()}handlePlayerVideoEvent(e){super.handlePlayerVideoEvent(e),this.autoplay.onEvents(e)}handleShakaPlayerErrorEvent(e){var a=this;return(0,c.A)(function*(){(0,o.Yi)(e),a.listener(e);const t=(0,o.uZ)(e);if((!t||a.reloadOnNetworkError)&&e.detail?.code!==l.util.Error.Code.LOAD_INTERRUPTED)if(2===e.detail?.severity&&a.config.errorBehaviour){const r=a.config.errorBehaviour;if("restart"===r.onCriticalError&&a.restartCount<r.maxRestartCount){(0,o.Yi)("\u0411\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a \u043f\u043b\u0435\u0435\u0440\u0430, \u0441 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u043c \u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 +1 \u0441\u0435\u043a\u0443\u043d\u0434\u0430,\n         \u0442\u0430\u043a \u043a\u0430\u043a \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430, \u0438\u0437-\u0437\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043c\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u043c \u0438\u0433\u0440\u0430\u0442\u044c ");const s=a.video.currentTime;return yield a.shakaPlayer.unload(),t||(a.restartCount+=1),void(yield a.shakaPlayer.load(a.playerData.currentSrc,s+1).catch(i=>a.handleShakaPlayerErrorEvent(new z("error",{detail:i}))))}(0,o.Yi)("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u043b\u0435\u0435\u0440\u0430, \u043d\u043e \u043c\u044b \u0443\u0436\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u043b\u0438 \u043f\u043b\u0435\u0435\u0440 \u0431\u043e\u043b\u044c\u0448\u0435 \u0447\u0435\u043c \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043e \u043f\u043e \u043a\u043e\u043d\u0444\u0438\u0433\u0443")}else(0,o.Yi)("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u043b\u0435\u0435\u0440\u0430, \u043d\u043e \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0435 \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043f\u0440\u0438 \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043e\u0448\u0438\u0431\u043a\u0435")})()}setListeners(){this.shakaPlayer.addEventListener("error",this.shakaErrorListener);for(const e of this.eventsList)v.r$.includes(e)?"error"!==e&&this.video.addEventListener(e,this.listener):this.shakaPlayer.addEventListener(e,this.listener)}removeListeners(){this.shakaPlayer.removeEventListener("error",this.shakaErrorListener);for(const e of this.eventsList)v.r$.includes(e)&&"error"!==e?this.video.removeEventListener(e,this.listener):this.shakaPlayer.removeEventListener(e,this.listener)}detach(){var e=()=>super.detach,a=this;return(0,c.A)(function*(){return yield e().call(a),a.destroy$.next(),a.shakaPlayer.destroy()})()}isBrowserSupported(){return l.Player.isBrowserSupported()}setSubtitlesContainer(){}addSubtitle(e){var a=()=>super.addSubtitle,t=this;return(0,c.A)(function*(){t.shakaPlayer.getManifest()?yield t.shakaPlayer.addTextTrackAsync(e.src,e.language,"subtitles","text/vtt",null,e.label):yield a().call(t,e)})()}load(e){var a=()=>super.load,t=this;return(0,c.A)(function*(){if(t.reloadOnNetworkError=e.reloadOnNetworkError,yield t.unload(),yield a().call(t,e),t.PAR=void 0,e.playUrl)try{t.playerData.hasTimeShiftManifest=!!e.tsPlayUrl,e.startTime&&t.playerData.hasTimeShiftManifest?((0,o.Wz)("\u041c\u044b \u0441\u0440\u0430\u0437\u0443 \u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0442\u0430\u0439\u043c\u0448\u0438\u0444\u0442\u043e\u0432\u044b\u0439 \u043c\u0430\u043d\u0438\u0444\u0435\u0441\u0442, \u0442\u0430\u043a \u043a\u0430\u043a \u043d\u0430\u043c \u043f\u0435\u0440\u0435\u0434\u0430\u043b\u0438 \u0441\u0442\u0430\u0440\u0442\u043e\u0432\u043e\u0435 \u0432\u0440\u0435\u043c\u044f"),yield t.shakaLoad(e.tsPlayUrl,"timeshift",e.startTime)):(yield t.shakaLoad(e.playUrl,"master",e.startTime),t.shakaPlayer.isLive()&&!e.startTime&&t.goToLive()),t.afterLoad()}catch(r){r.code!==l.util.Error.Code.INVALID_TEXT_HEADER&&((0,o.Yi)("Shaka load error:",r),t.events$.next({type:"error",detail:r}))}})()}selectVideoTrack(e){"auto"!==e?(this.setAbrState(!1),this.selectVariantTrack(e)):this.setAbrState(!0)}selectVariantByLabel(e){e&&this.shakaPlayer.selectVariantsByLabel(e)}selectTextTrack(e){if(this.video.classList[e?"remove":"add"]("hide-subtitles"),!e)return this.shakaPlayer.setTextTrackVisibility(!1),void(0,o.Wz)("subtitle hide");const t=this.shakaPlayer.getTextTracks().find(r=>r.id===+e);t?(this.shakaPlayer.selectTextTrack(t),this.shakaPlayer.setTextTrackVisibility(!0)):(0,o.Yi)("selectTextTrack error")}selectAudioTrack(e,a){const t=this.state.getAudioTracks(),r=(t.find(s=>s.label===a)||t.find(s=>s.language===e))?.id;this.selectVariantTrack(r)}shakaLoad(e,a,t){var r=this;return(0,c.A)(function*(){(0,o.Wz)(`load manifest ${a} ${e}`),r.restartCount=0,r.playerData.currentSrc=e,r.playerData.currentManifest=a,r.playerData.manifestType=function Y(h){switch(!0){case h.includes(".m3u8"):return"hls";case h.includes(".mp4"):return"mp4";default:return"mpeg-dash"}}(e);const s=t>1e8?(r.waitingStartSeek=!0,r.shakaPlayer.load(e).then(()=>{const i=new l.util.EventManager;setTimeout(()=>{r.waitingStartSeek=!1,i.release()},2e4),i.listenOnce(r.video,"loadeddata",()=>{r.waitingStartSeek=!1,r.setCurrentTimeInUTC(new Date(t))})})):r.shakaPlayer.load(e,t??null);return(0,A._)((0,L.p)([s,(0,y.R)(r.shakaPlayer,"onstatechange").pipe((0,f.p)(i=>"src-equals"===i.state||"load"===i.state),(0,p.n)(({state:i})=>{if("load"===i)return r.autoplay.setLoadMode("blob"),(0,k.of)(void 0);{r.autoplay.setLoadMode("src");const u=o.dD.isApple()?"loadeddata":"loadedmetadata";return(0,w.O)((0,y.R)(r.video,u),(0,y.R)(r.video,"error").pipe((0,C.M)(()=>{throw new Error("video error while loading")})))}}),(0,D.$)())]).pipe((0,g.T)(()=>{})))})()}setCurrentTime(e){this.waitingStartSeek||super.setCurrentTime(e)}setCurrentTimeInUTC(e){if(this.waitingStartSeek)return;if(!this.shakaPlayer.isLive())return void(0,o.Yi)("\u0411\u044b\u043b \u0432\u044b\u0437\u0432\u0430\u043d \u043c\u0435\u0442\u043e\u0434 setCurrentTimeInUTC \u0434\u043b\u044f \u043d\u0435\u043b\u0430\u0439\u0432\u043e\u0433\u043e \u043f\u043e\u0442\u043e\u043a\u0430!");const a=(Number(e)-Number(this.shakaPlayer.getPresentationStartTimeAsDate()))/1e3;this.playerData.hasTimeShiftManifest&&"master"===this.playerData.currentManifest&&this.shakaPlayer.seekRange().start>a?((0,o.Wz)("\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u043f\u043e\u0442\u043e\u043a \u043d\u0430 \u0442\u0430\u0439\u043c\u0448\u0438\u0444\u0442\u043e\u0432\u044b\u0439, \u0442\u0430\u043a \u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0437\u0430 \u043f\u0440\u0435\u0434\u0435\u043b\u0430\u043c\u0438 \u043e\u043a\u043d\u0430 \u043b\u0430\u0439\u0432\u0430"),this.shakaLoad(this.playData.tsPlayUrl,"timeshift",e.getTime())):this.shakaPlayer.seekRange().end<a?((0,o.Wz)("\u0423\u0445\u043e\u0434\u0438\u043c \u0432 \u043f\u0440\u044f\u043c\u043e\u0439 \u044d\u0444\u0438\u0440, \u0442\u0430\u043a \u043a\u0430\u043a \u043d\u0443\u0436\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0437\u0430 \u043e\u043a\u043d\u043e\u043c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0433\u043e"),this.goToLive(!0)):((0,o.Wz)("\u041f\u0440\u043e\u0441\u0442\u0430\u044f \u043f\u0435\u0440\u0435\u043c\u043e\u0442\u043a\u0430 \u0432\u043d\u0443\u0442\u0440\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u043e\u0442\u043e\u043a\u0430"),this.video.currentTime=a)}goToLive(e=!1){(0,o.Wz)("\u0412\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f goToLive",{playerData:this.playerData,isManual:e}),"timeshift"===this.playerData.currentManifest?this.shakaLoad(this.playData.playUrl,"master"):e&&this.shakaPlayer.goToLive()}addGlobalDebugger(){const e=localStorage.getItem("shaka-level");e&&l?.log?.setLevel(Number(e)),window[this.GlobalDebuggerObjectName]={player:this.shakaPlayer,stats:()=>this.shakaPlayer.getStats(),drminfo:()=>this.shakaPlayer.drmInfo(),configuration:()=>this.shakaPlayer.getConfiguration(),bufferfullness:()=>this.shakaPlayer.getBufferFullness(),bufferedinfo:()=>this.shakaPlayer.getBufferedInfo(),configure:(a,t)=>{"string"==typeof a&&void 0!==t?this.shakaPlayer.configure(a,t):this.shakaPlayer.configure(a)}}}unload(){var e=this;return(0,c.A)(function*(){yield e.shakaPlayer.unload(!0)})()}removeGlobalDebugger(){window[this.GlobalDebuggerObjectName]=null}afterLoad(){super.afterLoad()}selectVariantTrack(e){const a=this.shakaPlayer.getVariantTracks().find(t=>t.id===+e);if(a)try{const t=o.dD.isFirefox()?0:1;this.shakaPlayer.selectVariantTrack(a,!0,t)}catch(t){console.error(t)}else e&&(0,o.Yi)("selectVariantTrack error")}setAbrState(e){this.shakaPlayer.getConfiguration().abr?.enabled!==e&&this.shakaPlayer.configure({abr:{enabled:e}})}static checkPolyfillInstalled(){return(0,c.A)(function*(){(0,o.Wz)("shaka version is",l.Player.version),h.polyfillInstalled||(l.polyfill.installAll(),l.text.TextEngine.registerParser("text/srt",()=>new $),h.support=yield l.Player.probeSupport(),(0,o.Wz)("The system supports the following: ",h.support),h.polyfillInstalled=!0)})()}processSCTE35(e){const a=e.querySelector("EventStream"),t=a?.querySelector("Event");if(t){const r=+a.getAttribute("timescale"),s=+t.getAttribute("presentationTime")/r,i=+t.getAttribute("duration")/r,u=(0,N.gB)(()=>{const E=(new x.S).parseFromB64(t.querySelector("Binary")?.textContent);if("uniqueProgramId"in E.spliceCommand)return E.spliceCommand.uniqueProgramId.toString()});this.handlePlayerVideoEvent({type:"scte35",presentationTime:s,duration:i,uniqueProgramId:u})}}processHlsMetadata(e){(0,y.R)(e.textTracks,"addtrack").pipe((0,f.p)(({track:t})=>"metadata"===t.kind),(0,p.n)(({track:t})=>(0,R.Y)(100).pipe((0,g.T)(()=>t.cues),t=>t.pipe((0,g.T)(r=>[r,r?.length]),(0,M.F)(([,r],[,s])=>r===s),(0,f.p)(([r])=>!!r),(0,g.T)(([r])=>Array.from(r))),(0,I.S)((r,s)=>{const i=s.filter(u=>!r.has(u));return this.processCues(i),i.forEach(u=>r.add(u)),r},new Set))),(0,P.Q)(this.destroy$)).subscribe()}goToLiveFromTimeshiftOnHighPlaybackSpeed(){this.events$.pipe((0,f.p)(e=>"loadeddata"===e.type),(0,p.n)(()=>{if(!this.state.isLiveStream)return m.w;const e=this.events$.pipe((0,f.p)(t=>"timeupdate"===t.type));return this.events$.pipe((0,f.p)(t=>"ratechange"==t.type),(0,p.n)(()=>this.state.playbackRate>1?e:m.w)).pipe((0,p.n)(()=>this.state.seekRange.end-this.state.currentTime<3&&"timeshift"===this.playerData.currentManifest?(0,k.of)(void 0):m.w))}),(0,P.Q)(this.destroy$)).subscribe(()=>this.goToLive())}}return h})()}}]);